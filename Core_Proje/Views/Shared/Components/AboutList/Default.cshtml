@using EntityLayer.Concrete
@model List<About>

<div class="section pt-4 px-3 px-lg-4" id="about">
    <div class="container-narrow">
        @foreach (var item in Model)
        {
            <div class="row">
                <div class="col-md-6">
                    <h2 class="h4 my-2">@item.Title</h2>
                    <p>@item.Description</p>
                    <div class="row mt-3">
                        <div class="col-sm-2">
                            <div class="pb-1">Yaş:</div>
                        </div>
                        <div class="col-sm-10">
                            <div class="pb-1 fw-bolder">@item.Age</div>
                        </div>
                        <div class="col-sm-2">
                            <div class="pb-1">Mail:</div>
                        </div>
                        <div class="col-sm-10">
                            <div class="pb-1 fw-bolder">@item.Mail</div>
                        </div>
                        <div class="col-sm-2">
                            <div class="pb-1">Telefon:</div>
                        </div>
                        <div class="col-sm-10">
                            <div class="pb-1 fw-bolder">@item.Phone</div>
                        </div>                        
                        <div class="col-sm-2">
                            <div class="pb-1">Adres:</div>
                        </div>
                        <div class="col-sm-10">
                            <div class="pb-1 fw-bolder">@item.Address</div>
                        </div>     

                        <div>
                            @{string text="";}

                            @foreach(var service in ViewBag.ServiceList)
                            {
                                text += service.Title +" ";

                            }

                            @foreach(var feature in ViewBag.FeatureList)
                            {
                                text += feature.Header + " " + feature.Name + " " + feature.Title + " ";

                            }

                            @foreach(var experience in ViewBag.ExperienceList)
                            {
                                text += experience.Name + " " + experience.Description + " ";

                            }

                            @foreach (var portfolio in ViewBag.PortfolioList)
                            {
                                text += portfolio.Name + " ";

                            }

                            @foreach (var skill in ViewBag.SkillList)
                            {
                                text += skill.Title + " ";
                            } 

                            @foreach (var testimonial in ViewBag.TestimonialList)
                            {
                                text += testimonial.Comment + " ";
                            }


                            @{
                                CvInput cvInput = new CvInput
                                {
                                    CvText = text
                                };
                            }

                            <form action="/CvSummary/Summarize" method="post">
                                <input type="hidden" name="CvText" value="@text" />
                                <button type="submit" class="btn btn-success">CV'yi Özetle</button>
                            </form>
                        </div>

                        <div>
                            @if (ViewBag.Summary != null)
                            {
                                <div class="alert alert-success mt-4">
                                    <h5>CV Özeti:</h5>
                                    <p>@ViewBag.Summary</p>
                                </div>
                            }

                        </div>

                    </div>
                </div>
                <div class="col-md-5 offset-md-1" data-aos="fade-left" data-aos-delay="100"><img class="avatar img-fluid mt-2" src="@Url.Content(@item.ImageUrl)" width="400" height="400" alt="Walter Patterson" /></div>
            </div>
            }
        </div>
    </div>